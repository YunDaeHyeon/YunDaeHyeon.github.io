---
layout: post
title: "[자료구조] 삽입 정렬(Insertion Sort)"
data:   2022-02-28 17:05:00+0900
categories: jekyll update
tags: [data structure]
---
# 삽입 정렬(Insertion Sort)이란?
**현재 비교하고자 하는 타겟(targer)과 그 이전의 원소들과 비교하며 자리를 교환(swap)하는 정렬 방법이다.**  
- 데이터를 비교하기 때문에 `비교정렬`이며 정렬의 대상이 되는 데이터 외에 추가적인 공간을 필요로 하지 않기 때문에 `제자리 정렬(in-place sort)`이다. 또한 `안정정렬`이다.

# 장점과 단점
**삽입 정렬은 추가적인 메모리 소비가 작다. 거의 정렬된 경우 매우 효율적이며 최선의 시간 복잡도가 O(N)이다.**  
하지만, **역순에 가까울수록 삽입 정렬은 매우 비효율적이다. 이 때문에 최악의 시간 복잡도는 O(N^2)이다. 또한 데이터의 상태에 따라 성능 편차가 크다.**  
하지만, 시간 복잡도가 O(N^2)인 알고리즘 중에는 *성능이 좋다.*  
  
# 구현
삽입정렬의 구현 과정은 아래와 같다.
1. 현재 타겟이 되는 숫자와 이전에 있는 원소를 비교한다. (첫 번째 타겟은 두 번째 원소부터)
2. 타겟이 되는 숫자가 이전 위치에 있는 원소보다 작으면 위치를 서로 교환한다.
3. 그 다음 타겟을 찾아 1, 2번을 반복한다.

```java
public class InsertionSort {
    public static int[] arr = {9, 7, 5, 8, 6, 4, 3, 2, 1, 10};
    public static void main(String[] args){
        for(int i = 1 ; i < arr.length; i++){ // 타겟 (첫 번째 타겟은 두 번째 원소부터이기에 1부터 시작)
            int target = arr[i]; // 타겟 변수
            int j = i - 1; // 이전 위치에 있는 원소들
            while(j >= 0 && target < arr[j]){ // 타겟이 이전 위치에 있는 원소보다 작으면
                arr[j+1] = arr[j]; // 이전 원소를 한 칸씩 뒤로 밀기.
                j--;
            }
            // 타겟이 이전 원소보다 크면 타겟 원소는 이전 위치(j) 뒤에 와야한다.
            // 따라서 j+1에 타겟을 대입.
            arr[j+1] = target;
        }
        System.out.println("삽입 정렬 탐색 결과");
        for(int i = 0 ; i < arr.length ; i++){
            System.out.print(arr[i]+" ");
        }
    }
}

```

# 결과
```console
삽입 정렬 탐색 결과
1 2 3 4 5 6 7 8 9 10 
```

# 설명
`arr = {3, 2, 4, 1}`이라 가정했을 때  
- 첫 번째 타겟은 두 번째 원소부터 시작하기에 target은 `arr[1]의 2`가 된다.  
- 정렬 기준은 타겟이 되는 숫자의 이전 위치에 있는 모든 원소들이기에 타겟을 찾는 변수가 i일 때 이전 위치에 있는 원소가 `arr[j]`일 경우 `j = i - 1`이 된다.  
1. 타겟 변수는 `arr[1]`에 해당하는 2가 된다.  
2. `arr[1]`보다 이전 원소에 있는 `arr[i-1]`혹은 `arr[j]`을 대상으로 비교한다.  
3. 타겟(`arr[1]`)이 이전 원소 `arr[i-1]`보다 작으면(>) `arr[j+1] = arr[j]`를 통해서 이전 원소들을 한칸 씩 뒤로 밀어버린다. 위 배열로 가정하면 타겟 `arr[1]의 2`가 이전 원소 `arr[0]의 3`보다 작으므로 `arr[j+1] = arr[j]`에서 `arr[j]`에 해당하는 값 3이 `arr[j+1]`에 대입된다. 따라서 {3, 3, 4, 1}이 된다.  
4. 이때, `j--`을 통하여 j의 값이 1이 감소된다. 위 `j = i - 1`로 인하여 j의 값이 -1이 된다.  
5. `arr[j+1] = target`을 통하여 `arr[j+1]`은 `arr[0]`이므로 `arr[0]`에 `int target = arr[i]`를 통해 넣었던 타겟이 되는 숫자 2를 대입한다.  
6. {2, 3, 4, 1}이 된다.  
7. 이를 반복하면 {2, 3, 1, 4} -> {2, 1, 3, 4} -> {1, 2, 3, 4}가 되면서 탐색이 종료된다.  
  
*이상하게 이해하기 어려웠다.*
  
  
  
  
  
---
[참고]  
[st-lab](https://st-lab.tistory.com/179)  