---
layout: post
title:  "[SQL] 데이터 모델링(Data Modeling)의 속성, 관계(Relationship), 관계 차수"
date:   2022-10-02 17:12:00+0900
categories: jekyll update
tags: [sql]
---
<p align="center"><img src="/assets/img/blog/정보/SQL.png"></p>

# 속성(Attribute)
 : 속성은 **업무에서 필요한 정보인 엔터티가 가지는 항목**  
 : 릴레이션 스키마의 `열(Column)`을 의미  
 : 업무에 필요한 데이터를 저장할 수 있으며 더 이상 분리되지 않는 최소 단위를 말함.  
 : **인스턴스의 구성 요소이며 의미적으로 분해가 더 이상 이루어지지 않음.**  

# 속성(Attribute)의 특징
1. 업무에서 관리되는 **정보**이다.  
2. 속성은 **단 하나의 값**만 가진다.  
3. ***`주식별자`에게 함수적으로 종속되며, 이는 `기본키(Primary Key)`가 변경되면 속성의 값도 변경됨을 말한다.**  

# 속성(Attribute)의 종류
속성은 `분해여부`와, `특성`에 따라 분류된다.  

## 분해여부에 따른 분류
- 단일 속성 : **하나의 의미로 구성된 것. 사용자 ID, 이름 등이 존재한다.**  
- 복합 속성 : **여러 개의 의미가 있는 것. 대표적으로 주소가 존재하며 이는 시, 군, 동 등으로 분해될 수 있다.**  
- 다중값 속성 : **속성에 여러 개의 값을 가질 수 있는 것. 대표적으로 상품 리스트가 존재하며, 이는 엔터티로 분해된다.**  

## 특성에 따른 분류
- 기본 속성 : 비즈니스 프로세스에서 도출되는 **본래의 속성**. 대표적으로 사용자 ID, 이름, 생일 등이 존재한다.  
- 설계 속성 : **데이터 모델링 과정에서 발생되는 속성**. **이는 유일한 값을 부여하며**, 대표적으로 사용자 코드, 상품 코드 등이 존재한다.  
- 파생 속성 : **다른 속성에 의해 만들어지는 속성**. 대표적으로 합계, 평균 등이 존재한다.  

# 관계(Relationship)
릴레이션(Relation)과 관계(Relationship)은 엄연히 다른 개념이다.  
**관게(Relationship)는 엔터티간의 `관련성`을 의미하며 `존재 관계`, `행위 관계`로 분류된다.**  
- `존재 관계` : 두 개의 엔터티가 존재 여부의 관계가 있는 것  
 => 존재 관계는 엔터티 간의 상태를 의미한다.  
 => 예시) 사용자가 사이트에 회원가입을 한다면 관리점이 할당되며, 해당 할당점으로 관리자 페이지에서 사용자를 관리한다.  
- `행위 관계` : 두 개의 엔터티가 어떤 행위에 의한 관련성이 있는 것  
 => 행위 관계는 엔터티 간의 어떠한 행위가 있는 것을 말한다.  
 => 예시) 사용자는 글쓰기를 활용하여 글을 쓰는 관계가 만들어진다.  

# 관계 차수(Relcation Cardinality)
릴레이션에서의 카디널리티(Cardinality)는 흔히 `튜플의 개수`를 말한다.  
하지만 **두 개의 엔터티 간에 관계의 참여하는 수**로 해석할 수 있다.  
예를 들어, 은행 계좌 개설을 진행하고자 한다면 *`한 명의 고객은 여러 개의 계좌를 개설할 수 있다.`*  
이 경우, `1대 N`관계가 성립한다.  

# 관계 차수의 종류

<p align="center"><img src="/assets/img/blog/정보/관계 차수.png"></p>
  
1. 1대 1 관계  
 : 1대 1관계는 `완전 1:1 관계`, `선택적 1:1 관계`가 존재한다.  
 `완전 1:1 관계` : 하나의 엔터티가 관계되는 엔터티의 관계가 *하나 있는 경우*, **이는 반드시 존재한다.**  
 `선택적 1:1 관계` : 하나의 엔터티에 관계되는 **엔터티의 관계가 하나이거나 없는 경우**  
  
2. 1대 N 관계
 : 1대 N 관계는 **엔터티에 행이 하나 있을 때, 다른 엔터티의 값이 *여러 개*가 존재하는 관계를 말한다.**  
 : ex) 사용자는 글을 여러 개 작성할 수 있다.  
 : ex) 고객은 여러 개의 계좌를 개설할 수 있다.  
  
3. M대 N 관계
 : M대 N 관계는 **두 개의 엔터티가 서로 여러 개의 관계를 가지고 있는 것**이다.  
 : ex) 한 명의 학생은 여러 개의 과목을 수강할 수 있다. 하지만, 하나의 과목 또한 **여러 명의 학생이 수강한다.** => M대 N 관계 발생  
 : 관계형 데이터베이스에서 M대 N 관계의 `조인(Join)`은 **`카테시안 곱(Cartesian Product)`**이 발생하기에, 올바른 Join문, WHERE문 혹은 M대 N 관계를 1대 N, N대 1 관계로 해소시켜야 한다.  

4. 필수적, 선택적 관계
 : 필수적 관계는 **반드시 하나는 존재해야하는 관계**  
 : 선택적 관계는 **관계가 존재하지 않을수도 있는 관계**  
 : **필수적 관계는 관계 차수에서 `|`로 표현되며, 선택적 관계는 `O`로 표현된다.**  
 : **다중 관계는 관계 차수에서 `삼치창` 모양으로 표현된다.**  
  
  
  
---  
[Reference]  
1) 이기적 SQLD 이론서+문제집  
이미지 출처) [lowcodingpython](https://computerhanashi.tistory.com/entry/sqld-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81-%EA%B4%80%EA%B3%84%EC%9D%98-%EC%A2%85%EB%A5%98%EB%B3%84)  